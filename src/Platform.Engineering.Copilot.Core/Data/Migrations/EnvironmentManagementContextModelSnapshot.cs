// <auto-generated />
using System;
using Microsoft.EntityFrameworkCore;
using Microsoft.EntityFrameworkCore.Infrastructure;
using Microsoft.EntityFrameworkCore.Storage.ValueConversion;
using Platform.Engineering.Copilot.Core.Data.Context;

#nullable disable

namespace Platform.Engineering.Copilot.Core.Data.Migrations
{
    [DbContext(typeof(PlatformEngineeringCopilotContext))]
    partial class EnvironmentManagementContextModelSnapshot : ModelSnapshot
    {
        protected override void BuildModel(ModelBuilder modelBuilder)
        {
#pragma warning disable 612, 618
            modelBuilder.HasAnnotation("ProductVersion", "9.0.0");

            modelBuilder.Entity("Platform.Engineering.Copilot.Compliance.Core.Data.Entities.ComplianceAssessment", b =>
                {
                    b.Property<string>("Id")
                        .HasMaxLength(100)
                        .HasColumnType("TEXT");

                    b.Property<string>("AssessmentType")
                        .IsRequired()
                        .HasMaxLength(50)
                        .HasColumnType("TEXT");

                    b.Property<DateTime?>("CompletedAt")
                        .HasColumnType("TEXT");

                    b.Property<decimal>("ComplianceScore")
                        .HasColumnType("decimal(5,2)");

                    b.Property<int>("CriticalFindings")
                        .HasColumnType("INTEGER");

                    b.Property<long?>("Duration")
                        .HasColumnType("INTEGER");

                    b.Property<string>("ExecutiveSummary")
                        .HasColumnType("TEXT");

                    b.Property<int>("HighFindings")
                        .HasColumnType("INTEGER");

                    b.Property<int>("InformationalFindings")
                        .HasColumnType("INTEGER");

                    b.Property<string>("InitiatedBy")
                        .IsRequired()
                        .HasMaxLength(100)
                        .HasColumnType("TEXT");

                    b.Property<int>("LowFindings")
                        .HasColumnType("INTEGER");

                    b.Property<int>("MediumFindings")
                        .HasColumnType("INTEGER");

                    b.Property<string>("Metadata")
                        .HasColumnType("TEXT");

                    b.Property<string>("Recommendations")
                        .HasColumnType("TEXT");

                    b.Property<string>("ResourceGroupName")
                        .HasMaxLength(100)
                        .HasColumnType("TEXT");

                    b.Property<string>("Results")
                        .HasColumnType("TEXT");

                    b.Property<string>("RiskProfile")
                        .HasColumnType("TEXT");

                    b.Property<DateTime>("StartedAt")
                        .HasColumnType("TEXT");

                    b.Property<string>("Status")
                        .IsRequired()
                        .HasMaxLength(20)
                        .HasColumnType("TEXT");

                    b.Property<string>("SubscriptionId")
                        .IsRequired()
                        .HasMaxLength(100)
                        .HasColumnType("TEXT");

                    b.Property<int>("TotalFindings")
                        .HasColumnType("INTEGER");

                    b.HasKey("Id");

                    b.HasIndex("StartedAt");

                    b.HasIndex("Status");

                    b.HasIndex("SubscriptionId");

                    b.HasIndex("Status", "StartedAt");

                    b.HasIndex("SubscriptionId", "AssessmentType");

                    b.ToTable("ComplianceAssessments");
                });

            modelBuilder.Entity("Platform.Engineering.Copilot.Compliance.Core.Data.Entities.ComplianceFinding", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("TEXT");

                    b.Property<string>("AffectedNistControls")
                        .HasColumnType("TEXT");

                    b.Property<string>("AssessmentId")
                        .IsRequired()
                        .HasMaxLength(100)
                        .HasColumnType("TEXT");

                    b.Property<string>("ComplianceFrameworks")
                        .HasColumnType("TEXT");

                    b.Property<string>("ComplianceStatus")
                        .IsRequired()
                        .HasMaxLength(30)
                        .HasColumnType("TEXT");

                    b.Property<string>("ControlId")
                        .HasMaxLength(100)
                        .HasColumnType("TEXT");

                    b.Property<string>("Description")
                        .IsRequired()
                        .HasColumnType("TEXT");

                    b.Property<DateTime>("DetectedAt")
                        .HasColumnType("TEXT");

                    b.Property<string>("Evidence")
                        .HasColumnType("TEXT");

                    b.Property<string>("FindingId")
                        .IsRequired()
                        .HasMaxLength(100)
                        .HasColumnType("TEXT");

                    b.Property<string>("FindingType")
                        .IsRequired()
                        .HasMaxLength(30)
                        .HasColumnType("TEXT");

                    b.Property<bool>("IsAutomaticallyFixable")
                        .HasColumnType("INTEGER");

                    b.Property<bool>("IsRemediable")
                        .HasColumnType("INTEGER");

                    b.Property<string>("Metadata")
                        .HasColumnType("TEXT");

                    b.Property<string>("Remediation")
                        .HasColumnType("TEXT");

                    b.Property<DateTime?>("ResolvedAt")
                        .HasColumnType("TEXT");

                    b.Property<string>("ResourceId")
                        .HasMaxLength(500)
                        .HasColumnType("TEXT");

                    b.Property<string>("ResourceName")
                        .HasMaxLength(200)
                        .HasColumnType("TEXT");

                    b.Property<string>("ResourceType")
                        .HasMaxLength(100)
                        .HasColumnType("TEXT");

                    b.Property<string>("RuleId")
                        .IsRequired()
                        .HasMaxLength(100)
                        .HasColumnType("TEXT");

                    b.Property<string>("Severity")
                        .IsRequired()
                        .HasMaxLength(20)
                        .HasColumnType("TEXT");

                    b.Property<string>("Title")
                        .IsRequired()
                        .HasMaxLength(200)
                        .HasColumnType("TEXT");

                    b.HasKey("Id");

                    b.HasIndex("AssessmentId");

                    b.HasIndex("ComplianceStatus");

                    b.HasIndex("DetectedAt");

                    b.HasIndex("FindingType");

                    b.HasIndex("ResourceType");

                    b.HasIndex("RuleId");

                    b.HasIndex("Severity");

                    b.HasIndex("AssessmentId", "Severity");

                    b.HasIndex("ComplianceStatus", "Severity");

                    b.ToTable("ComplianceFindings");
                });

            modelBuilder.Entity("Platform.Engineering.Copilot.Core.Data.Entities.ApprovalWorkflowEntity", b =>
                {
                    b.Property<string>("Id")
                        .HasMaxLength(100)
                        .HasColumnType("TEXT");

                    b.Property<string>("ApprovalComments")
                        .HasMaxLength(1000)
                        .HasColumnType("TEXT");

                    b.Property<DateTime?>("ApprovedAt")
                        .HasColumnType("TEXT");

                    b.Property<string>("ApprovedBy")
                        .HasMaxLength(200)
                        .HasColumnType("TEXT");

                    b.Property<DateTime?>("CompletedAt")
                        .HasColumnType("TEXT");

                    b.Property<DateTime>("CreatedAt")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("TEXT")
                        .HasDefaultValueSql("datetime('now')");

                    b.Property<string>("DecisionsJson")
                        .IsRequired()
                        .HasColumnType("TEXT");

                    b.Property<string>("Environment")
                        .IsRequired()
                        .HasMaxLength(50)
                        .HasColumnType("TEXT");

                    b.Property<DateTime>("ExpiresAt")
                        .HasColumnType("TEXT");

                    b.Property<string>("Justification")
                        .IsRequired()
                        .HasMaxLength(1000)
                        .HasColumnType("TEXT");

                    b.Property<string>("Location")
                        .IsRequired()
                        .HasMaxLength(100)
                        .HasColumnType("TEXT");

                    b.Property<string>("OriginalToolCallJson")
                        .IsRequired()
                        .HasColumnType("TEXT");

                    b.Property<string>("PolicyViolationsJson")
                        .IsRequired()
                        .HasColumnType("TEXT");

                    b.Property<int>("Priority")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("INTEGER")
                        .HasDefaultValue(1);

                    b.Property<string>("Reason")
                        .IsRequired()
                        .HasMaxLength(1000)
                        .HasColumnType("TEXT");

                    b.Property<DateTime?>("RejectedAt")
                        .HasColumnType("TEXT");

                    b.Property<string>("RejectedBy")
                        .HasMaxLength(200)
                        .HasColumnType("TEXT");

                    b.Property<string>("RejectionReason")
                        .HasMaxLength(1000)
                        .HasColumnType("TEXT");

                    b.Property<string>("RequestPayload")
                        .IsRequired()
                        .HasColumnType("TEXT");

                    b.Property<DateTime>("RequestedAt")
                        .HasColumnType("TEXT");

                    b.Property<string>("RequestedBy")
                        .IsRequired()
                        .HasMaxLength(200)
                        .HasColumnType("TEXT");

                    b.Property<string>("RequiredApproversJson")
                        .IsRequired()
                        .HasColumnType("TEXT");

                    b.Property<string>("ResourceGroupName")
                        .IsRequired()
                        .HasMaxLength(200)
                        .HasColumnType("TEXT");

                    b.Property<string>("ResourceName")
                        .IsRequired()
                        .HasMaxLength(200)
                        .HasColumnType("TEXT");

                    b.Property<string>("ResourceType")
                        .IsRequired()
                        .HasMaxLength(100)
                        .HasColumnType("TEXT");

                    b.Property<string>("Status")
                        .IsRequired()
                        .HasMaxLength(50)
                        .HasColumnType("TEXT");

                    b.Property<string>("ToolCallId")
                        .IsRequired()
                        .HasMaxLength(100)
                        .HasColumnType("TEXT");

                    b.HasKey("Id");

                    b.HasIndex("CreatedAt")
                        .HasDatabaseName("IX_ApprovalWorkflows_CreatedAt");

                    b.HasIndex("Environment")
                        .HasDatabaseName("IX_ApprovalWorkflows_Environment");

                    b.HasIndex("ExpiresAt")
                        .HasDatabaseName("IX_ApprovalWorkflows_ExpiresAt");

                    b.HasIndex("RequestedBy")
                        .HasDatabaseName("IX_ApprovalWorkflows_RequestedBy");

                    b.HasIndex("ResourceType")
                        .HasDatabaseName("IX_ApprovalWorkflows_ResourceType");

                    b.HasIndex("Status")
                        .HasDatabaseName("IX_ApprovalWorkflows_Status");

                    b.HasIndex("ResourceGroupName", "Environment", "Status")
                        .HasDatabaseName("IX_ApprovalWorkflows_ResourceGroup_Environment_Status");

                    b.HasIndex("Status", "Priority", "CreatedAt")
                        .HasDatabaseName("IX_ApprovalWorkflows_Status_Priority_CreatedAt");

                    b.ToTable("ApprovalWorkflows");
                });

            modelBuilder.Entity("Platform.Engineering.Copilot.Core.Data.Entities.AuditLogEntity", b =>
                {
                    b.Property<string>("EntryId")
                        .HasMaxLength(50)
                        .HasColumnType("TEXT");

                    b.Property<string>("Action")
                        .IsRequired()
                        .HasMaxLength(100)
                        .HasColumnType("TEXT");

                    b.Property<string>("ActorId")
                        .IsRequired()
                        .HasMaxLength(200)
                        .HasColumnType("TEXT");

                    b.Property<string>("ActorName")
                        .IsRequired()
                        .HasMaxLength(200)
                        .HasColumnType("TEXT");

                    b.Property<string>("ActorType")
                        .IsRequired()
                        .HasMaxLength(50)
                        .HasColumnType("TEXT");

                    b.Property<DateTimeOffset?>("ArchivedAt")
                        .HasColumnType("TEXT");

                    b.Property<string>("ChangeDetailsJson")
                        .HasColumnType("nvarchar(max)");

                    b.Property<string>("ComplianceContextJson")
                        .HasColumnType("nvarchar(max)");

                    b.Property<string>("CorrelationId")
                        .IsRequired()
                        .HasMaxLength(100)
                        .HasColumnType("TEXT");

                    b.Property<string>("Description")
                        .IsRequired()
                        .HasMaxLength(2000)
                        .HasColumnType("TEXT");

                    b.Property<string>("EntryHash")
                        .HasMaxLength(64)
                        .HasColumnType("TEXT");

                    b.Property<string>("EventCategory")
                        .IsRequired()
                        .HasMaxLength(50)
                        .HasColumnType("TEXT");

                    b.Property<string>("EventType")
                        .IsRequired()
                        .HasMaxLength(100)
                        .HasColumnType("TEXT");

                    b.Property<string>("FailureReason")
                        .IsRequired()
                        .HasMaxLength(1000)
                        .HasColumnType("TEXT");

                    b.Property<string>("IpAddress")
                        .IsRequired()
                        .HasMaxLength(45)
                        .HasColumnType("TEXT");

                    b.Property<bool>("IsArchived")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("INTEGER")
                        .HasDefaultValue(false);

                    b.Property<string>("MetadataJson")
                        .HasColumnType("nvarchar(max)");

                    b.Property<string>("ResourceId")
                        .IsRequired()
                        .HasMaxLength(500)
                        .HasColumnType("TEXT");

                    b.Property<string>("ResourceName")
                        .IsRequired()
                        .HasMaxLength(500)
                        .HasColumnType("TEXT");

                    b.Property<string>("ResourceType")
                        .IsRequired()
                        .HasMaxLength(100)
                        .HasColumnType("TEXT");

                    b.Property<string>("Result")
                        .IsRequired()
                        .HasMaxLength(50)
                        .HasColumnType("TEXT");

                    b.Property<byte[]>("RowVersion")
                        .IsConcurrencyToken()
                        .ValueGeneratedOnAddOrUpdate()
                        .HasColumnType("BLOB");

                    b.Property<string>("SecurityContextJson")
                        .HasColumnType("nvarchar(max)");

                    b.Property<string>("SessionId")
                        .IsRequired()
                        .HasMaxLength(100)
                        .HasColumnType("TEXT");

                    b.Property<int>("Severity")
                        .HasColumnType("INTEGER");

                    b.Property<string>("TagsJson")
                        .HasColumnType("nvarchar(max)");

                    b.Property<DateTimeOffset>("Timestamp")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("TEXT")
                        .HasDefaultValueSql("GETUTCDATE()");

                    b.Property<string>("UserAgent")
                        .IsRequired()
                        .HasMaxLength(500)
                        .HasColumnType("TEXT");

                    b.HasKey("EntryId");

                    b.HasIndex("ActorId", "Timestamp")
                        .HasDatabaseName("IX_AuditLogs_Actor_Time");

                    b.HasIndex("Timestamp", "Severity")
                        .HasDatabaseName("IX_AuditLogs_Time_Severity");

                    b.HasIndex("ResourceId", "Action", "Timestamp")
                        .HasDatabaseName("IX_AuditLogs_Resource_Action_Time");

                    b.HasIndex(new[] { "ActorId" }, "IX_AuditLogs_ActorId");

                    b.HasIndex(new[] { "CorrelationId" }, "IX_AuditLogs_CorrelationId");

                    b.HasIndex(new[] { "EventType" }, "IX_AuditLogs_EventType");

                    b.HasIndex(new[] { "ResourceId" }, "IX_AuditLogs_ResourceId");

                    b.HasIndex(new[] { "Severity" }, "IX_AuditLogs_Severity");

                    b.HasIndex(new[] { "Timestamp" }, "IX_AuditLogs_Timestamp");

                    b.ToTable("AuditLogs");
                });

            modelBuilder.Entity("Platform.Engineering.Copilot.Core.Data.Entities.DeploymentHistory", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("TEXT");

                    b.Property<string>("Action")
                        .IsRequired()
                        .HasMaxLength(50)
                        .HasColumnType("TEXT");

                    b.Property<DateTime?>("CompletedAt")
                        .HasColumnType("TEXT");

                    b.Property<Guid>("DeploymentId")
                        .HasColumnType("TEXT");

                    b.Property<string>("Details")
                        .HasColumnType("TEXT");

                    b.Property<TimeSpan?>("Duration")
                        .HasColumnType("TEXT");

                    b.Property<string>("ErrorMessage")
                        .HasColumnType("TEXT");

                    b.Property<string>("InitiatedBy")
                        .IsRequired()
                        .HasMaxLength(100)
                        .HasColumnType("TEXT");

                    b.Property<DateTime>("StartedAt")
                        .HasColumnType("TEXT");

                    b.Property<string>("Status")
                        .IsRequired()
                        .HasMaxLength(20)
                        .HasColumnType("TEXT");

                    b.HasKey("Id");

                    b.HasIndex("Action");

                    b.HasIndex("Status");

                    b.HasIndex("DeploymentId", "StartedAt");

                    b.ToTable("DeploymentHistory");
                });

            modelBuilder.Entity("Platform.Engineering.Copilot.Core.Data.Entities.EnvironmentActivity", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("TEXT");

                    b.Property<string>("ActivityType")
                        .IsRequired()
                        .HasMaxLength(50)
                        .HasColumnType("TEXT");

                    b.Property<string>("Description")
                        .IsRequired()
                        .HasMaxLength(200)
                        .HasColumnType("TEXT");

                    b.Property<Guid>("EnvironmentLifecycleId")
                        .HasColumnType("TEXT");

                    b.Property<string>("ErrorMessage")
                        .HasColumnType("TEXT");

                    b.Property<string>("Metadata")
                        .HasColumnType("TEXT");

                    b.Property<string>("Status")
                        .IsRequired()
                        .HasMaxLength(20)
                        .HasColumnType("TEXT");

                    b.Property<DateTime>("Timestamp")
                        .HasColumnType("TEXT");

                    b.Property<string>("UserId")
                        .HasMaxLength(100)
                        .HasColumnType("TEXT");

                    b.Property<string>("UserName")
                        .HasMaxLength(100)
                        .HasColumnType("TEXT");

                    b.HasKey("Id");

                    b.HasIndex("ActivityType");

                    b.HasIndex("UserId");

                    b.HasIndex("EnvironmentLifecycleId", "Timestamp");

                    b.ToTable("EnvironmentActivities");
                });

            modelBuilder.Entity("Platform.Engineering.Copilot.Core.Data.Entities.EnvironmentClone", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("TEXT");

                    b.Property<string>("CloneOperationLog")
                        .HasColumnType("TEXT");

                    b.Property<string>("CloneType")
                        .IsRequired()
                        .HasMaxLength(50)
                        .HasColumnType("TEXT");

                    b.Property<DateTime?>("CompletedAt")
                        .HasColumnType("TEXT");

                    b.Property<string>("DataMaskingRules")
                        .HasColumnType("TEXT");

                    b.Property<string>("ErrorDetails")
                        .HasColumnType("TEXT");

                    b.Property<string>("ExcludedResources")
                        .HasColumnType("TEXT");

                    b.Property<bool>("IncludeData")
                        .HasColumnType("INTEGER");

                    b.Property<bool>("IncludeSecrets")
                        .HasColumnType("INTEGER");

                    b.Property<string>("InitiatedBy")
                        .IsRequired()
                        .HasMaxLength(100)
                        .HasColumnType("TEXT");

                    b.Property<bool>("MaskSensitiveData")
                        .HasColumnType("INTEGER");

                    b.Property<int>("Progress")
                        .HasColumnType("INTEGER");

                    b.Property<Guid>("SourceEnvironmentId")
                        .HasColumnType("TEXT");

                    b.Property<DateTime>("StartedAt")
                        .HasColumnType("TEXT");

                    b.Property<string>("Status")
                        .IsRequired()
                        .HasMaxLength(20)
                        .HasColumnType("TEXT");

                    b.Property<Guid>("TargetEnvironmentId")
                        .HasColumnType("TEXT");

                    b.HasKey("Id");

                    b.HasIndex("StartedAt");

                    b.HasIndex("Status");

                    b.HasIndex("TargetEnvironmentId");

                    b.HasIndex("SourceEnvironmentId", "TargetEnvironmentId");

                    b.ToTable("EnvironmentClones");
                });

            modelBuilder.Entity("Platform.Engineering.Copilot.Core.Data.Entities.EnvironmentCostTracking", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("TEXT");

                    b.Property<string>("BillingResourceGroup")
                        .HasMaxLength(50)
                        .HasColumnType("TEXT");

                    b.Property<string>("CostBreakdown")
                        .HasColumnType("TEXT");

                    b.Property<DateTime>("CreatedAt")
                        .HasColumnType("TEXT");

                    b.Property<decimal>("CumulativeCost")
                        .HasColumnType("decimal(18,2)");

                    b.Property<string>("Currency")
                        .IsRequired()
                        .HasMaxLength(10)
                        .HasColumnType("TEXT");

                    b.Property<decimal>("DailyCost")
                        .HasColumnType("decimal(18,2)");

                    b.Property<DateTime>("Date")
                        .HasColumnType("TEXT");

                    b.Property<Guid>("EnvironmentLifecycleId")
                        .HasColumnType("TEXT");

                    b.Property<string>("SubscriptionId")
                        .HasMaxLength(100)
                        .HasColumnType("TEXT");

                    b.HasKey("Id");

                    b.HasIndex("DailyCost");

                    b.HasIndex("Date");

                    b.HasIndex("Date", "DailyCost")
                        .HasDatabaseName("IX_EnvironmentCostTrackings_Date_Cost");

                    b.HasIndex("EnvironmentLifecycleId", "Date");

                    b.ToTable("EnvironmentCostTrackings");
                });

            modelBuilder.Entity("Platform.Engineering.Copilot.Core.Data.Entities.EnvironmentDeployment", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("TEXT");

                    b.Property<decimal?>("ActualMonthlyCost")
                        .HasColumnType("decimal(10,2)");

                    b.Property<string>("Configuration")
                        .HasColumnType("TEXT");

                    b.Property<DateTime>("CreatedAt")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("TEXT")
                        .HasDefaultValueSql("GETUTCDATE()");

                    b.Property<TimeSpan?>("CurrentPollingInterval")
                        .HasColumnType("TEXT");

                    b.Property<DateTime?>("DeletedAt")
                        .HasColumnType("TEXT");

                    b.Property<string>("DeployedBy")
                        .IsRequired()
                        .HasMaxLength(100)
                        .HasColumnType("TEXT");

                    b.Property<string>("EnvironmentType")
                        .IsRequired()
                        .HasMaxLength(50)
                        .HasColumnType("TEXT");

                    b.Property<decimal?>("EstimatedMonthlyCost")
                        .HasColumnType("decimal(10,2)");

                    b.Property<TimeSpan?>("EstimatedTimeRemaining")
                        .HasColumnType("TEXT");

                    b.Property<bool>("IsDeleted")
                        .HasColumnType("INTEGER");

                    b.Property<bool>("IsPollingActive")
                        .HasColumnType("INTEGER");

                    b.Property<DateTime?>("LastPolledAt")
                        .HasColumnType("TEXT");

                    b.Property<string>("Location")
                        .IsRequired()
                        .HasMaxLength(50)
                        .HasColumnType("TEXT");

                    b.Property<string>("Name")
                        .IsRequired()
                        .HasMaxLength(100)
                        .HasColumnType("TEXT");

                    b.Property<string>("Parameters")
                        .HasColumnType("TEXT");

                    b.Property<int>("PollingAttempts")
                        .HasColumnType("INTEGER");

                    b.Property<int>("ProgressPercentage")
                        .HasColumnType("INTEGER");

                    b.Property<string>("ResourceGroupName")
                        .IsRequired()
                        .HasMaxLength(100)
                        .HasColumnType("TEXT");

                    b.Property<int>("Status")
                        .HasColumnType("INTEGER");

                    b.Property<string>("SubscriptionId")
                        .IsRequired()
                        .HasMaxLength(100)
                        .HasColumnType("TEXT");

                    b.Property<string>("Tags")
                        .HasColumnType("TEXT");

                    b.Property<Guid?>("TemplateId")
                        .HasColumnType("TEXT");

                    b.Property<DateTime>("UpdatedAt")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("TEXT")
                        .HasDefaultValueSql("GETUTCDATE()");

                    b.HasKey("Id");

                    b.HasIndex("CreatedAt");

                    b.HasIndex("IsDeleted");

                    b.HasIndex("Name");

                    b.HasIndex("ResourceGroupName");

                    b.HasIndex("SubscriptionId");

                    b.HasIndex("TemplateId");

                    b.HasIndex("EnvironmentType", "Status");

                    b.HasIndex("SubscriptionId", "ResourceGroupName", "Status")
                        .HasDatabaseName("IX_EnvironmentDeployments_Subscription_ResourceGroup_Status");

                    b.ToTable("EnvironmentDeployments");
                });

            modelBuilder.Entity("Platform.Engineering.Copilot.Core.Data.Entities.EnvironmentLifecycle", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("TEXT");

                    b.Property<string>("AutoDestroyPolicy")
                        .HasMaxLength(20)
                        .HasColumnType("TEXT");

                    b.Property<string>("CostCenter")
                        .HasMaxLength(50)
                        .HasColumnType("TEXT");

                    b.Property<decimal>("CostThreshold")
                        .HasColumnType("TEXT");

                    b.Property<DateTime>("CreatedAt")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("TEXT")
                        .HasDefaultValueSql("GETUTCDATE()");

                    b.Property<string>("CreatedBy")
                        .IsRequired()
                        .HasMaxLength(100)
                        .HasColumnType("TEXT");

                    b.Property<Guid>("EnvironmentId")
                        .HasColumnType("TEXT");

                    b.Property<int>("InactivityThresholdHours")
                        .HasColumnType("INTEGER");

                    b.Property<DateTime?>("LastActivityAt")
                        .HasColumnType("TEXT");

                    b.Property<string>("LifecycleType")
                        .IsRequired()
                        .HasMaxLength(50)
                        .HasColumnType("TEXT");

                    b.Property<string>("Name")
                        .IsRequired()
                        .HasMaxLength(100)
                        .HasColumnType("TEXT");

                    b.Property<string>("NotificationEmails")
                        .HasColumnType("TEXT");

                    b.Property<int>("NotificationHours")
                        .HasColumnType("INTEGER");

                    b.Property<bool>("NotifyBeforeDestroy")
                        .HasColumnType("INTEGER");

                    b.Property<string>("OwnerTeam")
                        .HasMaxLength(100)
                        .HasColumnType("TEXT");

                    b.Property<string>("Project")
                        .HasMaxLength(100)
                        .HasColumnType("TEXT");

                    b.Property<DateTime?>("ScheduledEndTime")
                        .HasColumnType("TEXT");

                    b.Property<DateTime?>("ScheduledStartTime")
                        .HasColumnType("TEXT");

                    b.Property<string>("Status")
                        .IsRequired()
                        .HasMaxLength(20)
                        .HasColumnType("TEXT");

                    b.Property<DateTime>("UpdatedAt")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("TEXT")
                        .HasDefaultValueSql("GETUTCDATE()");

                    b.HasKey("Id");

                    b.HasIndex("EnvironmentId");

                    b.HasIndex("LastActivityAt");

                    b.HasIndex("OwnerTeam");

                    b.HasIndex("Project");

                    b.HasIndex("ScheduledEndTime");

                    b.HasIndex("LifecycleType", "Status");

                    b.HasIndex("OwnerTeam", "Project", "Status")
                        .HasDatabaseName("IX_EnvironmentLifecycles_Team_Project_Status");

                    b.ToTable("EnvironmentLifecycles");
                });

            modelBuilder.Entity("Platform.Engineering.Copilot.Core.Data.Entities.EnvironmentMetrics", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("TEXT");

                    b.Property<Guid>("DeploymentId")
                        .HasColumnType("TEXT");

                    b.Property<string>("Labels")
                        .HasColumnType("TEXT");

                    b.Property<string>("MetricName")
                        .IsRequired()
                        .HasMaxLength(50)
                        .HasColumnType("TEXT");

                    b.Property<string>("MetricType")
                        .IsRequired()
                        .HasMaxLength(50)
                        .HasColumnType("TEXT");

                    b.Property<string>("Source")
                        .HasMaxLength(50)
                        .HasColumnType("TEXT");

                    b.Property<DateTime>("Timestamp")
                        .HasColumnType("TEXT");

                    b.Property<string>("Unit")
                        .HasMaxLength(20)
                        .HasColumnType("TEXT");

                    b.Property<decimal>("Value")
                        .HasColumnType("decimal(18,4)");

                    b.HasKey("Id");

                    b.HasIndex("MetricName", "Timestamp");

                    b.HasIndex("DeploymentId", "MetricType", "Timestamp")
                        .HasDatabaseName("IX_EnvironmentMetrics_Deployment_Type_Time");

                    b.ToTable("EnvironmentMetrics");
                });

            modelBuilder.Entity("Platform.Engineering.Copilot.Core.Data.Entities.EnvironmentSynchronization", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("TEXT");

                    b.Property<string>("ConflictResolution")
                        .HasColumnType("TEXT");

                    b.Property<DateTime>("CreatedAt")
                        .HasColumnType("TEXT");

                    b.Property<string>("CreatedBy")
                        .IsRequired()
                        .HasMaxLength(100)
                        .HasColumnType("TEXT");

                    b.Property<bool>("IsActive")
                        .HasColumnType("INTEGER");

                    b.Property<bool>("IsBidirectional")
                        .HasColumnType("INTEGER");

                    b.Property<DateTime?>("LastSyncAt")
                        .HasColumnType("TEXT");

                    b.Property<string>("LastSyncLog")
                        .HasColumnType("TEXT");

                    b.Property<string>("LastSyncStatus")
                        .HasMaxLength(20)
                        .HasColumnType("TEXT");

                    b.Property<DateTime?>("NextSyncAt")
                        .HasColumnType("TEXT");

                    b.Property<Guid>("SourceEnvironmentId")
                        .HasColumnType("TEXT");

                    b.Property<string>("SyncFrequency")
                        .IsRequired()
                        .HasMaxLength(20)
                        .HasColumnType("TEXT");

                    b.Property<string>("SyncRules")
                        .HasColumnType("TEXT");

                    b.Property<string>("SyncType")
                        .IsRequired()
                        .HasMaxLength(50)
                        .HasColumnType("TEXT");

                    b.Property<Guid>("TargetEnvironmentId")
                        .HasColumnType("TEXT");

                    b.Property<DateTime>("UpdatedAt")
                        .HasColumnType("TEXT");

                    b.HasKey("Id");

                    b.HasIndex("IsActive");

                    b.HasIndex("NextSyncAt");

                    b.HasIndex("SyncType");

                    b.HasIndex("TargetEnvironmentId");

                    b.HasIndex("SourceEnvironmentId", "TargetEnvironmentId");

                    b.ToTable("EnvironmentSynchronizations");
                });

            modelBuilder.Entity("Platform.Engineering.Copilot.Core.Data.Entities.EnvironmentTemplate", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("TEXT");

                    b.Property<bool>("AutoScalingEnabled")
                        .HasColumnType("INTEGER");

                    b.Property<string>("AzureService")
                        .HasMaxLength(50)
                        .HasColumnType("TEXT");

                    b.Property<bool>("BackupEnabled")
                        .HasColumnType("INTEGER");

                    b.Property<string>("Content")
                        .IsRequired()
                        .HasColumnType("TEXT");

                    b.Property<DateTime>("CreatedAt")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("TEXT")
                        .HasDefaultValueSql("GETUTCDATE()");

                    b.Property<string>("CreatedBy")
                        .IsRequired()
                        .HasMaxLength(100)
                        .HasColumnType("TEXT");

                    b.Property<string>("DeploymentTier")
                        .IsRequired()
                        .HasMaxLength(20)
                        .HasColumnType("TEXT");

                    b.Property<string>("Description")
                        .IsRequired()
                        .HasMaxLength(500)
                        .HasColumnType("TEXT");

                    b.Property<bool>("DisasterRecoverySupported")
                        .HasColumnType("INTEGER");

                    b.Property<int>("FilesCount")
                        .HasColumnType("INTEGER");

                    b.Property<string>("Format")
                        .IsRequired()
                        .HasMaxLength(50)
                        .HasColumnType("TEXT");

                    b.Property<DateTime?>("ExpiresAt")
                        .HasColumnType("TEXT");

                    b.Property<bool>("HighAvailabilitySupported")
                        .HasColumnType("INTEGER");

                    b.Property<bool>("IsActive")
                        .HasColumnType("INTEGER");

                    b.Property<bool>("IsPublic")
                        .HasColumnType("INTEGER");

                    b.Property<string>("MainFileType")
                        .HasMaxLength(50)
                        .HasColumnType("TEXT");

                    b.Property<bool>("MonitoringEnabled")
                        .HasColumnType("INTEGER");

                    b.Property<bool>("MultiRegionSupported")
                        .HasColumnType("INTEGER");

                    b.Property<string>("Name")
                        .IsRequired()
                        .HasMaxLength(100)
                        .HasColumnType("TEXT");

                    b.Property<string>("Parameters")
                        .HasColumnType("TEXT");

                    b.Property<string>("Summary")
                        .HasColumnType("TEXT");

                    b.Property<string>("Tags")
                        .HasColumnType("TEXT");

                    b.Property<string>("TemplateType")
                        .IsRequired()
                        .HasMaxLength(50)
                        .HasColumnType("TEXT");

                    b.Property<DateTime>("UpdatedAt")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("TEXT")
                        .HasDefaultValueSql("GETUTCDATE()");

                    b.Property<string>("Version")
                        .IsRequired()
                        .HasMaxLength(20)
                        .HasColumnType("TEXT");

                    b.HasKey("Id");

                    b.HasIndex("CreatedAt");

                    b.HasIndex("ExpiresAt");

                    b.HasIndex("IsActive");

                    b.HasIndex("Name")
                        .IsUnique();

                    b.HasIndex("TemplateType", "DeploymentTier");

                    b.ToTable("EnvironmentTemplates");
                });

            modelBuilder.Entity("Platform.Engineering.Copilot.Core.Data.Entities.IntentFeedback", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("TEXT");

                    b.Property<string>("CorrectIntentAction")
                        .HasMaxLength(100)
                        .HasColumnType("TEXT");

                    b.Property<string>("CorrectIntentCategory")
                        .HasMaxLength(100)
                        .HasColumnType("TEXT");

                    b.Property<string>("CorrectParameters")
                        .HasColumnType("TEXT");

                    b.Property<DateTime>("CreatedAt")
                        .HasColumnType("TEXT");

                    b.Property<string>("FeedbackType")
                        .IsRequired()
                        .HasMaxLength(20)
                        .HasColumnType("TEXT");

                    b.Property<Guid>("IntentId")
                        .HasColumnType("TEXT");

                    b.Property<string>("ProvidedBy")
                        .IsRequired()
                        .HasMaxLength(100)
                        .HasColumnType("TEXT");

                    b.HasKey("Id");

                    b.HasIndex("CreatedAt");

                    b.HasIndex("IntentId", "FeedbackType");

                    b.ToTable("IntentFeedback");
                });

            modelBuilder.Entity("Platform.Engineering.Copilot.Core.Data.Entities.IntentPattern", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("TEXT");

                    b.Property<DateTime>("CreatedAt")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("TEXT")
                        .HasDefaultValueSql("GETUTCDATE()");

                    b.Property<string>("CreatedBy")
                        .IsRequired()
                        .HasMaxLength(100)
                        .HasColumnType("TEXT");

                    b.Property<string>("IntentAction")
                        .IsRequired()
                        .HasMaxLength(100)
                        .HasColumnType("TEXT");

                    b.Property<string>("IntentCategory")
                        .IsRequired()
                        .HasMaxLength(100)
                        .HasColumnType("TEXT");

                    b.Property<bool>("IsActive")
                        .HasColumnType("INTEGER");

                    b.Property<string>("ParameterExtractionRules")
                        .HasColumnType("TEXT");

                    b.Property<string>("Pattern")
                        .IsRequired()
                        .HasMaxLength(500)
                        .HasColumnType("TEXT");

                    b.Property<int>("SuccessCount")
                        .HasColumnType("INTEGER");

                    b.Property<decimal>("SuccessRate")
                        .HasColumnType("decimal(5,4)");

                    b.Property<DateTime>("UpdatedAt")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("TEXT")
                        .HasDefaultValueSql("GETUTCDATE()");

                    b.Property<int>("UsageCount")
                        .HasColumnType("INTEGER");

                    b.Property<decimal>("Weight")
                        .HasColumnType("decimal(5,4)");

                    b.HasKey("Id");

                    b.HasIndex("IsActive");

                    b.HasIndex("SuccessRate");

                    b.HasIndex("IntentCategory", "IntentAction");

                    b.ToTable("IntentPatterns");
                });

            modelBuilder.Entity("Platform.Engineering.Copilot.Core.Data.Entities.ScalingEvent", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("TEXT");

                    b.Property<DateTime?>("CompletedAt")
                        .HasColumnType("TEXT");

                    b.Property<DateTime>("CreatedAt")
                        .HasColumnType("TEXT");

                    b.Property<TimeSpan?>("Duration")
                        .HasColumnType("TEXT");

                    b.Property<string>("ErrorMessage")
                        .HasColumnType("TEXT");

                    b.Property<string>("EventType")
                        .IsRequired()
                        .HasMaxLength(20)
                        .HasColumnType("TEXT");

                    b.Property<int>("NewReplicas")
                        .HasColumnType("INTEGER");

                    b.Property<Guid>("PolicyId")
                        .HasColumnType("TEXT");

                    b.Property<int>("PreviousReplicas")
                        .HasColumnType("INTEGER");

                    b.Property<string>("Status")
                        .IsRequired()
                        .HasMaxLength(20)
                        .HasColumnType("TEXT");

                    b.Property<string>("Trigger")
                        .IsRequired()
                        .HasMaxLength(50)
                        .HasColumnType("TEXT");

                    b.Property<string>("TriggerDetails")
                        .HasColumnType("TEXT");

                    b.HasKey("Id");

                    b.HasIndex("EventType");

                    b.HasIndex("Status");

                    b.HasIndex("PolicyId", "CreatedAt");

                    b.ToTable("ScalingEvents");
                });

            modelBuilder.Entity("Platform.Engineering.Copilot.Core.Data.Entities.ScalingPolicy", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("TEXT");

                    b.Property<bool>("AutoScalingEnabled")
                        .HasColumnType("INTEGER");

                    b.Property<bool>("CostOptimizationEnabled")
                        .HasColumnType("INTEGER");

                    b.Property<DateTime>("CreatedAt")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("TEXT")
                        .HasDefaultValueSql("GETUTCDATE()");

                    b.Property<string>("CreatedBy")
                        .IsRequired()
                        .HasMaxLength(100)
                        .HasColumnType("TEXT");

                    b.Property<string>("CustomMetrics")
                        .HasColumnType("TEXT");

                    b.Property<Guid>("DeploymentId")
                        .HasColumnType("TEXT");

                    b.Property<bool>("IsActive")
                        .HasColumnType("INTEGER");

                    b.Property<int>("MaxReplicas")
                        .HasColumnType("INTEGER");

                    b.Property<int>("MinReplicas")
                        .HasColumnType("INTEGER");

                    b.Property<string>("Name")
                        .IsRequired()
                        .HasMaxLength(100)
                        .HasColumnType("TEXT");

                    b.Property<string>("PolicyType")
                        .IsRequired()
                        .HasMaxLength(50)
                        .HasColumnType("TEXT");

                    b.Property<string>("ScaleDownCooldown")
                        .IsRequired()
                        .HasMaxLength(20)
                        .HasColumnType("TEXT");

                    b.Property<string>("ScaleUpCooldown")
                        .IsRequired()
                        .HasMaxLength(20)
                        .HasColumnType("TEXT");

                    b.Property<string>("Schedule")
                        .HasColumnType("TEXT");

                    b.Property<int>("TargetCpuUtilization")
                        .HasColumnType("INTEGER");

                    b.Property<int>("TargetMemoryUtilization")
                        .HasColumnType("INTEGER");

                    b.Property<bool>("TrafficBasedScalingEnabled")
                        .HasColumnType("INTEGER");

                    b.Property<DateTime>("UpdatedAt")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("TEXT")
                        .HasDefaultValueSql("GETUTCDATE()");

                    b.HasKey("Id");

                    b.HasIndex("IsActive");

                    b.HasIndex("DeploymentId", "PolicyType");

                    b.ToTable("ScalingPolicies");
                });

            modelBuilder.Entity("Platform.Engineering.Copilot.Core.Data.Entities.SemanticIntent", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("TEXT");

                    b.Property<decimal>("Confidence")
                        .HasColumnType("decimal(5,4)");

                    b.Property<DateTime>("CreatedAt")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("TEXT")
                        .HasDefaultValueSql("GETUTCDATE()");

                    b.Property<string>("ErrorMessage")
                        .HasColumnType("TEXT");

                    b.Property<string>("ExtractedParameters")
                        .HasColumnType("TEXT");

                    b.Property<string>("IntentAction")
                        .IsRequired()
                        .HasMaxLength(100)
                        .HasColumnType("TEXT");

                    b.Property<string>("IntentCategory")
                        .IsRequired()
                        .HasMaxLength(100)
                        .HasColumnType("TEXT");

                    b.Property<string>("ResolvedToolCall")
                        .HasColumnType("TEXT");

                    b.Property<string>("SessionId")
                        .HasMaxLength(100)
                        .HasColumnType("TEXT");

                    b.Property<string>("UserId")
                        .IsRequired()
                        .HasMaxLength(100)
                        .HasColumnType("TEXT");

                    b.Property<string>("UserInput")
                        .IsRequired()
                        .HasMaxLength(500)
                        .HasColumnType("TEXT");

                    b.Property<bool>("WasSuccessful")
                        .HasColumnType("INTEGER");

                    b.HasKey("Id");

                    b.HasIndex("Confidence");

                    b.HasIndex("WasSuccessful");

                    b.HasIndex("IntentCategory", "IntentAction");

                    b.HasIndex("UserId", "CreatedAt");

                    b.ToTable("SemanticIntents");
                });

            modelBuilder.Entity("Platform.Engineering.Copilot.Core.Data.Entities.TemplateFile", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("TEXT");

                    b.Property<string>("Content")
                        .IsRequired()
                        .HasColumnType("TEXT");

                    b.Property<DateTime>("CreatedAt")
                        .HasColumnType("TEXT");

                    b.Property<string>("FileName")
                        .IsRequired()
                        .HasMaxLength(255)
                        .HasColumnType("TEXT");

                    b.Property<string>("FilePath")
                        .IsRequired()
                        .HasMaxLength(500)
                        .HasColumnType("TEXT");

                    b.Property<string>("FileType")
                        .IsRequired()
                        .HasMaxLength(50)
                        .HasColumnType("TEXT");

                    b.Property<bool>("IsEntryPoint")
                        .HasColumnType("INTEGER");

                    b.Property<int>("Order")
                        .HasColumnType("INTEGER");

                    b.Property<Guid>("TemplateId")
                        .HasColumnType("TEXT");

                    b.Property<DateTime>("UpdatedAt")
                        .HasColumnType("TEXT");

                    b.HasKey("Id");

                    b.HasIndex("TemplateId");

                    b.ToTable("TemplateFiles");
                });

            modelBuilder.Entity("Platform.Engineering.Copilot.Core.Data.Entities.TemplateVersion", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("TEXT");

                    b.Property<string>("ChangeLog")
                        .HasColumnType("TEXT");

                    b.Property<string>("Content")
                        .IsRequired()
                        .HasColumnType("TEXT");

                    b.Property<DateTime>("CreatedAt")
                        .HasColumnType("TEXT");

                    b.Property<string>("CreatedBy")
                        .IsRequired()
                        .HasMaxLength(100)
                        .HasColumnType("TEXT");

                    b.Property<bool>("IsDeprecated")
                        .HasColumnType("INTEGER");

                    b.Property<Guid>("TemplateId")
                        .HasColumnType("TEXT");

                    b.Property<string>("Version")
                        .IsRequired()
                        .HasMaxLength(20)
                        .HasColumnType("TEXT");

                    b.HasKey("Id");

                    b.HasIndex("CreatedAt");

                    b.HasIndex("TemplateId", "Version")
                        .IsUnique();

                    b.ToTable("TemplateVersions");
                });

            modelBuilder.Entity("Platform.Engineering.Copilot.Compliance.Core.Data.Entities.ComplianceFinding", b =>
                {
                    b.HasOne("Platform.Engineering.Copilot.Compliance.Core.Data.Entities.ComplianceAssessment", "Assessment")
                        .WithMany("Findings")
                        .HasForeignKey("AssessmentId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.Navigation("Assessment");
                });

            modelBuilder.Entity("Platform.Engineering.Copilot.Core.Data.Entities.DeploymentHistory", b =>
                {
                    b.HasOne("Platform.Engineering.Copilot.Core.Data.Entities.EnvironmentDeployment", "Deployment")
                        .WithMany("History")
                        .HasForeignKey("DeploymentId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.Navigation("Deployment");
                });

            modelBuilder.Entity("Platform.Engineering.Copilot.Core.Data.Entities.EnvironmentActivity", b =>
                {
                    b.HasOne("Platform.Engineering.Copilot.Core.Data.Entities.EnvironmentLifecycle", "EnvironmentLifecycle")
                        .WithMany("Activities")
                        .HasForeignKey("EnvironmentLifecycleId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.Navigation("EnvironmentLifecycle");
                });

            modelBuilder.Entity("Platform.Engineering.Copilot.Core.Data.Entities.EnvironmentClone", b =>
                {
                    b.HasOne("Platform.Engineering.Copilot.Core.Data.Entities.EnvironmentDeployment", "SourceEnvironment")
                        .WithMany()
                        .HasForeignKey("SourceEnvironmentId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.HasOne("Platform.Engineering.Copilot.Core.Data.Entities.EnvironmentDeployment", "TargetEnvironment")
                        .WithMany()
                        .HasForeignKey("TargetEnvironmentId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.Navigation("SourceEnvironment");

                    b.Navigation("TargetEnvironment");
                });

            modelBuilder.Entity("Platform.Engineering.Copilot.Core.Data.Entities.EnvironmentCostTracking", b =>
                {
                    b.HasOne("Platform.Engineering.Copilot.Core.Data.Entities.EnvironmentLifecycle", "EnvironmentLifecycle")
                        .WithMany("CostTrackings")
                        .HasForeignKey("EnvironmentLifecycleId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.Navigation("EnvironmentLifecycle");
                });

            modelBuilder.Entity("Platform.Engineering.Copilot.Core.Data.Entities.EnvironmentDeployment", b =>
                {
                    b.HasOne("Platform.Engineering.Copilot.Core.Data.Entities.EnvironmentTemplate", "Template")
                        .WithMany("Deployments")
                        .HasForeignKey("TemplateId");

                    b.Navigation("Template");
                });

            modelBuilder.Entity("Platform.Engineering.Copilot.Core.Data.Entities.EnvironmentLifecycle", b =>
                {
                    b.HasOne("Platform.Engineering.Copilot.Core.Data.Entities.EnvironmentDeployment", "Environment")
                        .WithMany()
                        .HasForeignKey("EnvironmentId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.Navigation("Environment");
                });

            modelBuilder.Entity("Platform.Engineering.Copilot.Core.Data.Entities.EnvironmentMetrics", b =>
                {
                    b.HasOne("Platform.Engineering.Copilot.Core.Data.Entities.EnvironmentDeployment", "Deployment")
                        .WithMany("Metrics")
                        .HasForeignKey("DeploymentId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.Navigation("Deployment");
                });

            modelBuilder.Entity("Platform.Engineering.Copilot.Core.Data.Entities.EnvironmentSynchronization", b =>
                {
                    b.HasOne("Platform.Engineering.Copilot.Core.Data.Entities.EnvironmentDeployment", "SourceEnvironment")
                        .WithMany()
                        .HasForeignKey("SourceEnvironmentId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.HasOne("Platform.Engineering.Copilot.Core.Data.Entities.EnvironmentDeployment", "TargetEnvironment")
                        .WithMany()
                        .HasForeignKey("TargetEnvironmentId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.Navigation("SourceEnvironment");

                    b.Navigation("TargetEnvironment");
                });

            modelBuilder.Entity("Platform.Engineering.Copilot.Core.Data.Entities.IntentFeedback", b =>
                {
                    b.HasOne("Platform.Engineering.Copilot.Core.Data.Entities.SemanticIntent", "Intent")
                        .WithMany("Feedback")
                        .HasForeignKey("IntentId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.Navigation("Intent");
                });

            modelBuilder.Entity("Platform.Engineering.Copilot.Core.Data.Entities.ScalingEvent", b =>
                {
                    b.HasOne("Platform.Engineering.Copilot.Core.Data.Entities.ScalingPolicy", "Policy")
                        .WithMany("ScalingEvents")
                        .HasForeignKey("PolicyId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.Navigation("Policy");
                });

            modelBuilder.Entity("Platform.Engineering.Copilot.Core.Data.Entities.ScalingPolicy", b =>
                {
                    b.HasOne("Platform.Engineering.Copilot.Core.Data.Entities.EnvironmentDeployment", "Deployment")
                        .WithMany("ScalingPolicies")
                        .HasForeignKey("DeploymentId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.Navigation("Deployment");
                });

            modelBuilder.Entity("Platform.Engineering.Copilot.Core.Data.Entities.TemplateFile", b =>
                {
                    b.HasOne("Platform.Engineering.Copilot.Core.Data.Entities.EnvironmentTemplate", "Template")
                        .WithMany("Files")
                        .HasForeignKey("TemplateId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.Navigation("Template");
                });

            modelBuilder.Entity("Platform.Engineering.Copilot.Core.Data.Entities.TemplateVersion", b =>
                {
                    b.HasOne("Platform.Engineering.Copilot.Core.Data.Entities.EnvironmentTemplate", "Template")
                        .WithMany("Versions")
                        .HasForeignKey("TemplateId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.Navigation("Template");
                });

            modelBuilder.Entity("Platform.Engineering.Copilot.Compliance.Core.Data.Entities.ComplianceAssessment", b =>
                {
                    b.Navigation("Findings");
                });

            modelBuilder.Entity("Platform.Engineering.Copilot.Core.Data.Entities.EnvironmentDeployment", b =>
                {
                    b.Navigation("History");

                    b.Navigation("Metrics");

                    b.Navigation("ScalingPolicies");
                });

            modelBuilder.Entity("Platform.Engineering.Copilot.Core.Data.Entities.EnvironmentLifecycle", b =>
                {
                    b.Navigation("Activities");

                    b.Navigation("CostTrackings");
                });

            modelBuilder.Entity("Platform.Engineering.Copilot.Core.Data.Entities.EnvironmentTemplate", b =>
                {
                    b.Navigation("Deployments");

                    b.Navigation("Files");

                    b.Navigation("Versions");
                });

            modelBuilder.Entity("Platform.Engineering.Copilot.Core.Data.Entities.ScalingPolicy", b =>
                {
                    b.Navigation("ScalingEvents");
                });

            modelBuilder.Entity("Platform.Engineering.Copilot.Core.Data.Entities.SemanticIntent", b =>
                {
                    b.Navigation("Feedback");
                });
#pragma warning restore 612, 618
        }
    }
}
